---
title: "test-render"
output: 
  html_document:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(forestly)
library(reactable)
library(htmltools)
```

```{r}
js <- forestly:::sparkline_point_js(iris, "Sepal.Length")
```

```{r}
col <- colDef(html = TRUE, cell = JS(js), width = 150,
              style="font-size: 0px; padding: 0px; margin: 0px;")
p <- reactable(data = iris[,1:2],
               theme = reactableTheme(cellPadding = "0px 8px"),
               borderless = TRUE,
               highlight = TRUE,
               resizable = TRUE,
               columns = list(Sepal.Length = col))
               
plotly_js <- "https://unpkg.com/react-plotly.js@1.0.2/dist/create-plotly-component.js"
browsable(tagList(
  reactR::html_dependency_react(),
  htmltools::tags$script(src="https://cdn.plot.ly/plotly-latest.min.js"),
  htmltools::tags$script(src=plotly_js),
  p
))
```


